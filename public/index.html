<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>영화 리스트</title>
</head>
<body>

    <h1>영화 리스트</h1>
    <!-- 오른쪽 상단에 로그인 버튼 -->
    <button class="login-btn" onclick="login()">로그인</button>
      <!-- 검색 입력 폼 -->
      <input type="text" id="searchInput" placeholder="영화 제목을 검색하세요..." onkeyup="searchMovies()">
    <div class="controls">
        <button onclick="showAddMovieModal()">추가</button>
        <button onclick="deleteSelected()">삭제</button>
    </div>
    <ul id="movieList">
        <li>
            <input type="checkbox" class="delete-checkbox">
            <img src="images/movie1.png" alt="범죄도시 4 포스터" style="width: 200px;"><br>
            <a href="views/member/review.ejs" target="_blank">범죄도시 4</a>
        </li>
        <li>
            <input type="checkbox" class="delete-checkbox">
            <img src="images/movie2.png" alt="듄 포스터" style="width: 200px;"><br>
            <a href="views/member/review.ejs" target="_blank">듄</a>
        </li>
        <li>
            <input type="checkbox" class="delete-checkbox">
            <img src="images/movie3.png" alt="트랜스포머 포스터" style="width: 200px;"><br>
            <a href="views/member/review.ejs" target="_blank">트랜스포머</a>
        </li>
    </ul>

    <!-- Modal for Adding Movies -->
    <div id="addMovieModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAddMovieModal()">&times;</span>
            <h2>영화 추가</h2>
            <form id="addMovieForm">
                <label for="movieTitle">영화 제목:</label>
                <input type="text" id="movieTitle" name="movieTitle" required><br>
                <label for="movieImage">이미지 업로드:</label>
                <input type="file" id="movieImage" name="movieImage" accept="image/*" required><br>
                <button type="button" onclick="addMovie()">추가하기</button>
            </form>
        </div>
    </div>
    <script>
        function searchMovies() {
            // 입력된 검색어를 가져옵니다.
            const input = document.getElementById('searchInput').value.toLowerCase();
            // 영화 리스트의 모든 항목을 가져옵니다.
            const movieList = document.getElementById('movieList');
            const movies = movieList.getElementsByTagName('li');

            // 각 영화 제목을 검사하여 검색어와 일치하지 않으면 숨깁니다.
            for (let i = 0; i < movies.length; i++) {
                const movieTitle = movies[i].getElementsByTagName('a')[0].textContent.toLowerCase();
                if (movieTitle.includes(input)) {
                    movies[i].style.display = '';
                } else {
                    movies[i].style.display = 'none';
                }
            }
        }
    </script>

    <script src="script.js"></script>
</body>
</html>
